# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: lhclusters.littlehorse.io
spec:
  group: littlehorse.io
  names:
    kind: LHCluster
    plural: lhclusters
    shortNames:
    - lhc
    singular: lhcluster
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.kafka.clusterPartitions
      name: partitions
      type: integer
    - jsonPath: .spec.server.replicas
      name: REPLICAS
      type: integer
    - jsonPath: .spec.server.storage.volumeSize
      name: VOLUMESIZE
      type: string
    - jsonPath: .status.problems
      name: PROBLEMS
      type: string
    name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              kafka:
                properties:
                  strimziClusterRef:
                    properties:
                      clusterName:
                        type: string
                      createTopics:
                        type: boolean
                      quotas:
                        properties:
                          producerByteRate:
                            nullable: true
                            type: integer
                          consumerByteRate:
                            nullable: true
                            type: integer
                          requestPercentage:
                            nullable: true
                            type: integer
                          controllerMutationRate:
                            nullable: true
                            type: number
                        type: object
                      listener:
                        properties:
                          tls:
                            type: boolean
                          port:
                            type: integer
                          authentication:
                            type: string
                        required:
                        - port
                        type: object
                    required:
                    - clusterName
                    - createTopics
                    - listener
                    type: object
                  replicationFactor:
                    type: integer
                  clusterPartitions:
                    type: integer
                required:
                - clusterPartitions
                type: object
              server:
                properties:
                  listeners:
                    items:
                      properties:
                        name:
                          type: string
                        infrastructure:
                          nullable: true
                          properties:
                            ingress:
                              properties:
                                ingressClassName:
                                  type: string
                                ingressAnnotations:
                                  additionalProperties:
                                    type: string
                                  type: object
                              required:
                              - ingressClassName
                              type: object
                            istio:
                              properties:
                                gateway:
                                  properties:
                                    selector:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    port:
                                      nullable: true
                                      type: integer
                                  required:
                                  - selector
                                  type: object
                              required:
                              - gateway
                              type: object
                          type: object
                        tls:
                          properties:
                            secretRef:
                              properties:
                                name:
                                  type: string
                              required:
                              - name
                              type: object
                            issuerRef:
                              type: string
                          type: object
                        authentication:
                          properties:
                            type:
                              type: string
                          required:
                          - type
                          type: object
                        advertisedListeners:
                          properties:
                            bootstrap:
                              nullable: true
                              properties:
                                host:
                                  type: string
                              required:
                              - host
                              type: object
                            serverHostSuffix:
                              nullable: true
                              type: string
                            servers:
                              items:
                                properties:
                                  host:
                                    type: string
                                  port:
                                    type: integer
                                required:
                                - host
                                - port
                                type: object
                              nullable: true
                              type: array
                          type: object
                        port:
                          type: integer
                      required:
                      - name
                      - port
                      type: object
                    type: array
                  version:
                    type: string
                  image:
                    type: string
                  imagePullPolicy:
                    type: string
                  replicas:
                    minimum: 1.0
                    type: integer
                  storage:
                    properties:
                      storageClassName:
                        type: string
                      volumeSize:
                        type: string
                    required:
                    - storageClassName
                    type: object
                  hotStandbyReplicas:
                    type: integer
                  compute:
                    nullable: true
                    properties:
                      cpu:
                        nullable: true
                        type: string
                      memory:
                        nullable: true
                        type: string
                    type: object
                  rackAwareness:
                    nullable: true
                    properties:
                      zoneKey:
                        type: string
                      zoneIds:
                        items:
                          type: string
                        type: array
                    required:
                    - zoneKey
                    - zoneIds
                    type: object
                  authentication:
                    properties:
                      mtls:
                        properties:
                          clientCaCert:
                            properties:
                              secretRef:
                                properties:
                                  name:
                                    type: string
                                required:
                                - name
                                type: object
                            required:
                            - secretRef
                            type: object
                        required:
                        - clientCaCert
                        type: object
                      oauth:
                        properties:
                          introspectionEndpointUrl:
                            type: string
                          credentials:
                            properties:
                              secretRef:
                                properties:
                                  name:
                                    type: string
                                required:
                                - name
                                type: object
                            required:
                            - secretRef
                            type: object
                        required:
                        - introspectionEndpointUrl
                        - credentials
                        type: object
                    type: object
                  template:
                    type: object
                  podAnnotations:
                    additionalProperties:
                      type: string
                    type: object
                  podLabels:
                    additionalProperties:
                      type: string
                    type: object
                  serviceAnnotations:
                    additionalProperties:
                      type: string
                    type: object
                  serviceLabels:
                    additionalProperties:
                      type: string
                    type: object
                required:
                - replicas
                - storage
                type: object
              podMonitor:
                properties:
                  podMonitorLabels:
                    additionalProperties:
                      type: string
                    type: object
                  metricRelabelings:
                    items:
                      properties:
                        action:
                          type: string
                        modulus:
                          type: integer
                        regex:
                          type: string
                        replacement:
                          type: string
                        separator:
                          type: string
                        sourceLabels:
                          items:
                            type: string
                          type: array
                        targetLabel:
                          type: string
                      type: object
                    type: array
                type: object
              defaultLabels:
                additionalProperties:
                  type: string
                type: object
            type: object
          status:
            properties:
              lastBounceTime:
                type: integer
              lastBouncedPod:
                type: integer
              problems:
                type: string
              observedGeneration:
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
